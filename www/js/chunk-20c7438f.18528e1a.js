(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20c7438f"],{"0abf":function(e,a,t){"use strict";t.d(a,"g",function(){return i}),t.d(a,"f",function(){return o}),t.d(a,"a",function(){return u}),t.d(a,"c",function(){return s}),t.d(a,"l",function(){return m}),t.d(a,"j",function(){return d}),t.d(a,"i",function(){return p}),t.d(a,"k",function(){return c}),t.d(a,"h",function(){return f}),t.d(a,"o",function(){return l}),t.d(a,"m",function(){return g}),t.d(a,"d",function(){return _}),t.d(a,"e",function(){return h}),t.d(a,"n",function(){return v}),t.d(a,"b",function(){return b});var r=t("2777"),n=t("f121"),i=function(e){var a=e.pageIndex,t=e.pageSize,i=n["apiHost"]+"/manage/firm/list";return r["a"].request({url:i,method:"get",params:{page_index:a,page_size:t}})},o=function(e){var a=n["apiHost"]+"/manage/firm/add",t=new FormData;return t.set("firmname",e.firmName),t.set("firm_realname",e.firmRealName),t.set("balance",e.balance),r["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:t})},u=function(e){var a=e.pageIndex,t=e.pageSize,i=e.auth1,o=n["apiHost"]+"/manage/firm/account";return r["a"].request({url:o,method:"get",params:{fid:i,page_index:a,page_size:t}})},s=function(e){var a=e.auth1,t=e.uid,i=e.uname,o=e.type,u=n["apiHost"]+"/manage/firm/delegate";return r["a"].request({url:u,method:"get",params:{type:o,fid:a,uname:i,uid:t}})},m=function(e){var a=e.pageIndex,t=e.pageSize,i=e.fid,o=n["apiHost"]+"/manage/product/firm/list";return r["a"].request({url:o,method:"get",params:{fid:i,page_index:a,page_size:t}})},d=function(e){var a=e.fid,t=e.pid,i=n["apiHost"]+"/manage/product/firm/detail";return r["a"].request({url:i,method:"get",params:{fid:a,pid:t}})},p=function(e){var a=n["apiHost"]+"/manage/product/firm/new",t=new FormData;return t.set("fid",e.fid),t.set("product_name",e.productName),t.set("product_realname",e.productRealname),t.set("category_id",e.categoryId),t.set("category_name",e.categoryName),t.set("category_realname",e.categoryRealname),t.set("supplier_id",e.supplierId),t.set("supplier_name",e.supplierName),t.set("supplier_realname",e.supplierRealname),t.set("product_price",e.productPrice),t.set("product_count",e.productCount),t.set("product_img",e.productImg),t.set("product_status",e.productStatus),t.set("product_desc",e.productDesc),r["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:t})},c=function(e){var a=n["apiHost"]+"/manage/product/firm/update",t=new FormData;return t.set("fid",e.fid),t.set("pid",e.pid),t.set("product_name",e.productName),t.set("product_realname",e.productRealname),t.set("category_id",e.categoryId),t.set("category_name",e.categoryName),t.set("category_realname",e.categoryRealname),t.set("supplier_id",e.supplierId),t.set("supplier_name",e.supplierName),t.set("supplier_realname",e.supplierRealname),t.set("product_price",e.productPrice),t.set("product_count",e.productCount),t.set("product_img",e.productImg),t.set("product_status",e.productStatus),t.set("product_desc",e.productDesc),r["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:t})},f=function(e){var a=e.fid,t=n["apiHost"]+"/manage/product/firm/categroy/list";return r["a"].request({url:t,method:"get",params:{fid:a,page_index:1,page_size:100}})},l=function(){var e=n["apiHost"]+"/manage/supplier/list";return r["a"].request({url:e,method:"get",params:{page_index:1,page_size:100}})},g=function(e){var a=e.uid,t=e.fid,i=n["apiHost"]+"/manage/firm/staff";return r["a"].request({url:i,method:"get",params:{fid:t,uid:a}})},_=function(e){var a=e.uid,t=e.fid,i=e.coin,o=n["apiHost"]+"/manage/firm/staff/coin",u=new FormData;return u.set("data",i),r["a"].request({url:o,method:"post",headers:{"Content-Type":"application/form-data"},data:u,params:{fid:t,uid:a}})},h=function(e){var a=e.uids,t=e.fid,i=e.coin,o=n["apiHost"]+"/manage/firm/staff/list/coin",u=new FormData;return u.set("data",i),r["a"].request({url:o,method:"post",headers:{"Content-Type":"application/form-data"},data:u,params:{fid:t,uids:a.join(",")}})},v=function(e){var a=e.fid,t=e.pageIndex,i=e.pageSize,o=n["apiHost"]+"/manage/order/list";return r["a"].request({url:o,method:"get",params:{fid:a,page_index:t,page_size:i}})},b=function(e){var a=e.fid,t=e.orderId,i=n["apiHost"]+"/manage/order/cancel",o=new FormData;return o.set("orderId",t),r["a"].request({url:i,method:"get",data:o,params:{fid:a}})}},"7d00":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"mg-detail"},[e.isEdit?e._e():t("Divider",{attrs:{orientation:"left"}},[e._v("新建 合作机构")]),e.isEdit?t("Divider",{attrs:{orientation:"left"}},[e._v("编辑 合作机构")]):e._e(),t("div",{staticStyle:{"max-width":"500px","text-align":"left"}},[t("Form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":80}},[t("FormItem",{attrs:{label:"机构简称（英文）",prop:"firmName"}},[t("Input",{attrs:{placeholder:"输入firmName"},model:{value:e.formData.firmName,callback:function(a){e.$set(e.formData,"firmName",a)},expression:"formData.firmName"}})],1),t("FormItem",{attrs:{label:"机构全称",prop:"firmRealName"}},[t("Input",{attrs:{placeholder:"输入机构全称"},model:{value:e.formData.firmRealName,callback:function(a){e.$set(e.formData,"firmRealName",a)},expression:"formData.firmRealName"}})],1),t("FormItem",{attrs:{label:"机构金额",prop:"balance"}},[t("Input",{attrs:{placeholder:"输入机构初始金额",type:"number"},model:{value:e.formData.balance,callback:function(a){e.$set(e.formData,"balance",a)},expression:"formData.balance"}})],1),t("FormItem",[t("Button",{attrs:{type:"primary"},on:{click:function(a){return e.handleSubmit("formData")}}},[e._v("新建合作机构")])],1)],1)],1)],1)},n=[],i=(t("7f7f"),t("0abf")),o={name:"AssociationDetail",data:function(){var e=Boolean("new"!=this.$route.query.mode);return{isEdit:e,formData:{firmName:"",firmRealName:"",balance:0},rules:{firmName:[{required:!0,message:"机构名称不能为空",trigger:"blur"}],firmRealName:[{required:!0,message:"机构全称不能为空",trigger:"blur"}],balance:[{required:!0,message:"机构初始金额不能为空",trigger:"blur"}]}}},mounted:function(){console.log("This is AssociationDetail")},methods:{handleSubmit:function(e){var a=this;this.$refs[e].validate(function(e){e?Object(i["f"])({firmName:a.formData.firmName,firmRealName:a.formData.firmRealName,balance:a.formData.balance}).then(function(e){0==e.errorCode&&(a.$Message.success("机构注册成功:"+e.data.firmname+"("+e.data.firm_realname+")"),setTimeout(function(){a.$router.push({name:"association_list"})},2e3))},function(){a.$Message.error("机构注册失败")}):a.$Message.error("请检查填写")})}}},u=o,s=(t("f41a"),t("2877")),m=Object(s["a"])(u,r,n,!1,null,"2943ba4e",null);a["default"]=m.exports},a808:function(e,a,t){},f41a:function(e,a,t){"use strict";var r=t("a808"),n=t.n(r);n.a}}]);