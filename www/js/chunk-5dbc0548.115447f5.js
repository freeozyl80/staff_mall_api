(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dbc0548"],{"2c9f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mg-list"},[a("Divider",{attrs:{orientation:"left"}},[e._v("所有账户列表")]),a("Table",{attrs:{columns:e.columns1,data:e.listData},scopedSlots:e._u([{key:"usertype",fn:function(t){var n=t.row;return[1==n.usertype?a("p",[e._v("系统管理员")]):e._e(),2==n.usertype?a("p",[e._v("客户负责人")]):e._e(),3==n.usertype?a("p",[e._v("员工")]):e._e(),4==n.usertype?a("p",[e._v("客服")]):e._e()]}},{key:"action",fn:function(e){e.row,e.index}}])}),[a("Page",{attrs:{total:e.total,"show-sizer":"false","page-size":e.pageData.pageSize,current:e.pageData.pageIndex},on:{"on-change":e.jump}})]],2)},r=[],o=a("df02"),i={name:"AccountList",mounted:function(){var e=this;e.fetch()},data:function(){return{total:0,pageData:{pageSize:10,pageIndex:1},columns1:[{title:"用户id",key:"id"},{title:"用户类型",key:"usertype",slot:"usertype"},{title:"账户名",key:"username"},{title:"姓名",key:"realname"},{title:"操作",key:"action",slot:"action"}],listData:[]}},watch:{$route:"fetch"},methods:{detail:function(e){this.$router.push({name:"account_detail",params:{id:e}})},importAccout:function(){this.$router.push({name:"account_import"})},jump:function(e){var t=this;t.pageData.pageIndex=e,t.fetch(t.pageData.pageIndex,t.pageData.pageSize)},fetch:function(e,t){var a=this;Object(o["c"])({pageIndex:e||a.pageData.pageIndex,pageSize:t||a.pageData.pageSize}).then(function(e){e.ok?(a.listData=e.data.list,a.total=e.data.total):a.$Message.error(e.errorMsg+":"+e.info)})}}},u=i,s=(a("ded2"),a("2877")),p=Object(s["a"])(u,n,r,!1,null,"360ad55e",null);t["default"]=p.exports},dc73:function(e,t,a){},ded2:function(e,t,a){"use strict";var n=a("dc73"),r=a.n(n);r.a},df02:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return u}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return p}),a.d(t,"e",function(){return c}),a.d(t,"f",function(){return d});a("7f7f");var n=a("2777"),r=a("f121"),o=r["apiHost"],i=function(e){var t=e.name,a=e.pwd,r=e.type,i=o+"/manage/admin/login",u=new FormData;return u.set("name",t),u.set("pwd",a),u.set("type",r),n["a"].request({url:i,method:"post",headers:{"Content-Type":"application/form-data"},data:u})},u=o+"/manage/user/import",s=function(e){var t=e.pageIndex,a=e.pageSize,r=e.userType,i=o+"/manage/user/list";return n["a"].request({url:i,method:"get",params:{page_index:t,page_size:a,user_type:r}})},p=function(e){var t=e.uid,a=o+"/manage/user/reset",r=new FormData;return r.set("uid",t),n["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:r})},c=function(e){var t=e.name,a=e.realname,r=e.pwd,i=o+"/manage/service/create",u=new FormData;return u.set("name",t),u.set("realname",a),u.set("pwd",r),n["a"].request({url:i,method:"post",headers:{"Content-Type":"application/form-data"},data:u})},d=function(e){var t=e.uid,a=o+"/manage/user/off",r=new FormData;return r.set("uid",t),n["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:r})}}}]);