(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3f8ef50"],{"0abf":function(e,t,a){"use strict";a.d(t,"i",function(){return o}),a.d(t,"j",function(){return d}),a.d(t,"h",function(){return u}),a.d(t,"p",function(){return s}),a.d(t,"a",function(){return c}),a.d(t,"s",function(){return p}),a.d(t,"d",function(){return f}),a.d(t,"o",function(){return m}),a.d(t,"m",function(){return l}),a.d(t,"l",function(){return g}),a.d(t,"n",function(){return _}),a.d(t,"k",function(){return h}),a.d(t,"t",function(){return v}),a.d(t,"q",function(){return y}),a.d(t,"b",function(){return D}),a.d(t,"f",function(){return b}),a.d(t,"g",function(){return I}),a.d(t,"r",function(){return x}),a.d(t,"c",function(){return k}),a.d(t,"e",function(){return w});var r=a("2777"),n=a("f121"),i=n["apiHost"],o=function(e){var t=e.fid,a=i+"/manage/firm/detail";return r["a"].request({url:a,method:"get",params:{fid:t}})},d=function(e){var t=e.pageIndex,a=e.pageSize,n=i+"/manage/firm/list";return r["a"].request({url:n,method:"get",params:{page_index:t,page_size:a}})},u=function(e){var t=i+"/manage/firm/add",a=new FormData;return a.set("firmname",e.firmName),a.set("firm_realname",e.firmRealName),a.set("balance",e.balance),r["a"].request({url:t,method:"post",headers:{"Content-Type":"application/form-data"},data:a})},s=function(e){var t=i+"/manage/firm/update",a=new FormData;return a.set("firmname",e.firmName),a.set("firm_realname",e.firmRealName),a.set("balance",e.balance),e.productGroup&&a.set("product_group",e.productGroup),e.categoryGroup&&a.set("category_group",e.categoryGroup),r["a"].request({url:t,method:"post",headers:{"Content-Type":"application/form-data"},data:a,params:{fid:e.fid}})},c=function(e){var t=e.pageIndex,a=e.pageSize,n=e.auth1,o=i+"/manage/firm/account";return r["a"].request({url:o,method:"get",params:{fid:n,page_index:t,page_size:a}})},p=function(e){var t=e.pageIndex,a=e.pageSize,n=e.auth1,o=i+"/manage/firm/staff/list";return r["a"].request({url:o,method:"get",params:{fid:n,page_index:t,page_size:a}})},f=function(e){var t=e.auth1,a=e.uid,n=e.uname,o=e.type,d=i+"/manage/firm/delegate";return r["a"].request({url:d,method:"get",params:{type:o,fid:t,uname:n,uid:a}})},m=function(e){var t=e.pageIndex,a=e.pageSize,n=e.fid,o=i+"/manage/product/firm/list";return r["a"].request({url:o,method:"get",params:{fid:n,product_status:1,page_index:t,page_size:a}})},l=function(e){var t=e.fid,a=e.pid,n=i+"/manage/product/firm/detail";return r["a"].request({url:n,method:"get",params:{fid:t,pid:a}})},g=function(e){var t=i+"/manage/product/firm/new",a=new FormData;return a.set("fid",e.fid),a.set("product_name",e.productName),a.set("product_realname",e.productRealname),a.set("category_id",e.categoryId),a.set("category_name",e.categoryName),a.set("category_realname",e.categoryRealname),a.set("supplier_id",e.supplierId),a.set("supplier_name",e.supplierName),a.set("supplier_realname",e.supplierRealname),a.set("product_price",e.productPrice),a.set("product_count",e.productCount),a.set("product_img",e.productImg),a.set("product_status",e.productStatus),a.set("product_desc",e.productDesc),a.set("product_banner_list",e.productBannerList.join(",")),a.set("product_detail_list",e.productDetailList.join(",")),r["a"].request({url:t,method:"post",headers:{"Content-Type":"application/form-data"},data:a})},_=function(e){var t=i+"/manage/product/firm/update",a=new FormData;return a.set("fid",e.fid),a.set("pid",e.pid),a.set("product_name",e.productName),a.set("product_realname",e.productRealname),a.set("category_id",e.categoryId),a.set("category_name",e.categoryName),a.set("category_realname",e.categoryRealname),a.set("supplier_id",e.supplierId),a.set("supplier_name",e.supplierName),a.set("supplier_realname",e.supplierRealname),a.set("product_price",e.productPrice),a.set("product_count",e.productCount),a.set("product_img",e.productImg),a.set("product_status",e.productStatus),a.set("product_desc",e.productDesc),a.set("product_banner_list",e.productBannerList.join(",")),a.set("product_detail_list",e.productDetailList.join(",")),r["a"].request({url:t,method:"post",headers:{"Content-Type":"application/form-data"},data:a})},h=function(e){var t=e.fid,a=i+"/manage/product/firm/categroy/list";return r["a"].request({url:a,method:"get",params:{fid:t,page_index:1,page_size:100}})},v=function(){var e=i+"/manage/supplier/list";return r["a"].request({url:e,method:"get",params:{page_index:1,page_size:100}})},y=function(e){var t=e.uid,a=e.fid,n=i+"/manage/firm/staff";return r["a"].request({url:n,method:"get",params:{fid:a,uid:t}})},D=function(e){var t=i+"/manage/firm/staff/add",a=new FormData;return a.set("name",e.username),a.set("realname",e.userRealname),a.set("pwd",e.password),r["a"].request({url:t,method:"post",headers:{"Content-Type":"application/form-data"},data:a,params:{fid:e.fid}})},b=function(e){var t=e.uid,a=e.fid,n=e.coin,o=i+"/manage/firm/staff/coin",d=new FormData;return d.set("data",n),r["a"].request({url:o,method:"post",headers:{"Content-Type":"application/form-data"},data:d,params:{fid:a,uid:t}})},I=function(e){var t=e.uids,a=e.fid,n=e.coin,o=i+"/manage/firm/staff/list/coin",d=new FormData;return d.set("data",n),r["a"].request({url:o,method:"post",headers:{"Content-Type":"application/form-data"},data:d,params:{fid:a,uids:t.join(",")}})},x=function(e){var t=e.fid,a=e.pageIndex,n=e.pageSize,o=i+"/manage/order/list";return r["a"].request({url:o,method:"get",params:{fid:t,page_index:a,page_size:n}})},k=function(e){var t=e.fid,a=e.orderId,n=i+"/manage/order/cancel",o=new FormData;return o.set("orderId",a),r["a"].request({url:n,method:"post",data:o,params:{fid:t}})},w=function(e){var t=e.fid,a=e.orderId,n=i+"/manage/order/deliver",o=new FormData;return o.set("orderId",a),r["a"].request({url:n,method:"post",data:o,params:{fid:t}})}},a7c0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mg-detail"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/home"}},[e._v("首页")])],1),a("br"),a("label",{staticStyle:{"font-weight":"400"}},[e._v("选择机构： ")]),a("Select",{staticStyle:{width:"200px"},on:{"on-change":e.select},model:{value:e.firmData,callback:function(t){e.firmData=t},expression:"firmData"}},e._l(e.firmList,function(t){return a("Option",{key:t.fid,attrs:{value:t.fid}},[e._v(e._s(t.firmname))])}),1),a("br"),a("br"),a("Table",{attrs:{columns:e.columns,data:e.listData},scopedSlots:e._u([{key:"status",fn:function(t){var r=t.row;t.index;return[1==r.order_status?a("div",[e._v("下定")]):e._e(),2==r.order_status?a("div",[e._v("支付完成")]):e._e(),3==r.order_status?a("div",[e._v("发货完成")]):e._e(),4==r.order_status?a("div",[e._v("收货完成")]):e._e(),5==r.order_status?a("div",[e._v("取消")]):e._e(),6==r.order_status?a("div",[e._v("退换中")]):e._e(),7==r.order_status?a("div",[e._v("7异常")]):e._e()]}},{key:"action",fn:function(t){var r=t.row;t.index;return[5!=r.order_status&&1!=r.order_status?a("Button",{staticClass:"mg-button",attrs:{type:"error",size:"small"},on:{click:function(t){return e.cancelOrder(r)}}},[e._v("立即退款")]):e._e(),2==r.order_status?a("Button",{staticClass:"mg-button",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.deliver(r)}}},[e._v("发货完成")]):e._e(),a("Button",{attrs:{type:"default",size:"small"},on:{click:function(t){return e.orderDetail(r)}}},[e._v("查看详情")])]}}])}),[a("Page",{attrs:{total:e.total,"show-sizer":"false","page-size":e.pageData.pageSize,current:e.pageData.pageIndex},on:{"on-change":e.jump}})]],2)},n=[],i=a("0abf"),o={name:"AssociationAccount",data:function(){return{firmList:[],fid:null,total:0,pageData:{pageSize:10,pageIndex:1},columns:[{title:"订单id",key:"order_id"},{title:"收货地址",key:"order_receiving_address"},{title:"收货城市",key:"order_receiving_city"},{title:"收货电话",key:"order_receiving_tel"},{title:"收货人",key:"order_receiving_username"},{title:"订单价格",key:"order_total_price"},{title:"订单状态",key:"oder_status",slot:"status"},{title:"操作",key:"action",slot:"action"}],listData:[]}},watch:{$route:"fetch"},mounted:function(){var e=this;e.fetch()},methods:{jump:function(e){var t=this;t.pageData.pageIndex=e,t.fetch(t.pageData.pageIndex,t.pageData.pageSize)},select:function(e){var t=this;t.fid=e,t.fetch(t.pageData.pageIndex,t.pageData.pageSize)},fetch:function(e,t){var a=this;Object(i["r"])({fid:a.fid,pageIndex:e||a.pageData.pageIndex,pageSize:t||a.pageData.pageSize}).then(function(e){e.ok?(a.listData=e.data.list||[],a.total=e.data.total):a.$Message.error(e.errorMsg+":"+e.info)}),Object(i["j"])({pageIndex:1,pageSize:100}).then(function(e){0==e.errorCode?a.firmList=e.data.list||[]:a.$Message.error(e.errorMsg+":"+e.info)},function(e){a.$Message.error(e+":"+res.info)})},cancelOrder:function(e){var t=this;this.$Modal.confirm({render:function(t){return t("div",[t("h2","确认操作"),t("h4","确认退款该商品：".concat(e.order_id))])},onOk:function(){Object(i["c"])({fid:e.fid,orderId:e.order_id}).then(function(e){e.ok?(t.listData=e.data.list||[],t.fetch()):t.$Message.error(e.errorMsg+":"+e.info)})}})},deliver:function(e){var t=this;this.$Modal.confirm({render:function(t){return t("div",[t("h2","确认操作"),t("h4","确认发货该商品：".concat(e.order_id))])},onOk:function(){Object(i["e"])({fid:e.fid,orderId:e.order_id}).then(function(e){e.ok?(t.listData=e.data.list||[],t.fetch()):t.$Message.error(e.errorMsg+":"+e.info)})}})},orderDetail:function(e){var t=this;t.$router.push({name:"order_detail",query:{id:e.order_id,uid:e.uid}})}}},d=o,u=(a("afe9"),a("2877")),s=Object(u["a"])(d,r,n,!1,null,"926ff140",null);t["default"]=s.exports},afe9:function(e,t,a){"use strict";var r=a("f542"),n=a.n(r);n.a},f542:function(e,t,a){}}]);