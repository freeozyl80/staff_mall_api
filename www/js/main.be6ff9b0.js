(function(e){function n(n){for(var a,r,u=n[0],s=n[1],i=n[2],d=0,f=[];d<u.length;d++)r=u[d],o[r]&&f.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);h&&h(n);while(f.length)f.shift()();return c.push.apply(c,i||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],a=!0,r=1;r<t.length;r++){var u=t[r];0!==o[u]&&(a=!1)}a&&(c.splice(n--,1),e=s(s.s=t[0]))}return e}var a={},r={main:0},o={main:0},c=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-05f4860d":"c649ba93","chunk-0ee8132b":"77b21eec","chunk-1fd222e1":"1736ec32","chunk-34d1bae6":"a7abd5a7","chunk-39814a86":"2585a9fc","chunk-39d157b5":"8bb3d981","chunk-3d59c99e":"f3671ca5","chunk-4c1ecf57":"c1132771","chunk-5044dfd9":"3530f743","chunk-544f9055":"493233fc","chunk-5d563a72":"1b6d6fa8","chunk-5dbc0548":"322e38c3","chunk-627fda63":"f899ffc6","chunk-656eef42":"8e8142b8","chunk-6e632633":"53c44d3e","chunk-9ef0c602":"8fdf5cfd","chunk-b4c2f3ca":"0e87b044","chunk-bd0ca646":"b1c4cb8f","chunk-d344db00":"b12f72ac","chunk-e3f8ef50":"761ece53","chunk-fbc79b0e":"96973828"}[e]+".js"}function s(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t={"chunk-05f4860d":1,"chunk-0ee8132b":1,"chunk-1fd222e1":1,"chunk-34d1bae6":1,"chunk-39814a86":1,"chunk-39d157b5":1,"chunk-3d59c99e":1,"chunk-4c1ecf57":1,"chunk-5044dfd9":1,"chunk-544f9055":1,"chunk-5d563a72":1,"chunk-5dbc0548":1,"chunk-627fda63":1,"chunk-656eef42":1,"chunk-6e632633":1,"chunk-9ef0c602":1,"chunk-b4c2f3ca":1,"chunk-bd0ca646":1,"chunk-d344db00":1,"chunk-e3f8ef50":1,"chunk-fbc79b0e":1};r[e]?n.push(r[e]):0!==r[e]&&t[e]&&n.push(r[e]=new Promise(function(n,t){for(var a="css/"+({}[e]||e)+"."+{"chunk-05f4860d":"adde4030","chunk-0ee8132b":"afe59d7a","chunk-1fd222e1":"91ff723d","chunk-34d1bae6":"d3599715","chunk-39814a86":"04a38b40","chunk-39d157b5":"f92c1e14","chunk-3d59c99e":"acbaf5a9","chunk-4c1ecf57":"c5c6df8d","chunk-5044dfd9":"79e2658f","chunk-544f9055":"ae56f058","chunk-5d563a72":"51414465","chunk-5dbc0548":"9197d1df","chunk-627fda63":"bedffebc","chunk-656eef42":"331dcafa","chunk-6e632633":"1eb81a75","chunk-9ef0c602":"bedffebc","chunk-b4c2f3ca":"a73122db","chunk-bd0ca646":"a3e99da4","chunk-d344db00":"3614b180","chunk-e3f8ef50":"9f52276a","chunk-fbc79b0e":"16d4dceb"}[e]+".css",o=s.p+a,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var i=c[u],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===a||d===o))return n()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){i=f[u],d=i.getAttribute("data-href");if(d===a||d===o)return n()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=n,h.onerror=function(n){var a=n&&n.target&&n.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[e],h.parentNode.removeChild(h),t(c)},h.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(h)}).then(function(){r[e]=0}));var a=o[e];if(0!==a)if(a)n.push(a[2]);else{var c=new Promise(function(n,t){a=o[e]=[n,t]});n.push(a[2]=c);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=u(e),i=function(n){d.onerror=d.onload=null,clearTimeout(f);var t=o[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src,c=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");c.type=a,c.request=r,t[1](c)}o[e]=void 0}};var f=setTimeout(function(){i({type:"timeout",target:d})},12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(n)},s.m=e,s.c=a,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)s.d(t,a,function(n){return e[n]}.bind(null,a));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/web/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=n,i=i.slice();for(var f=0;f<i.length;f++)n(i[f]);var h=d;c.push(["56d7","chunk-vendors"]),t()})({"034f":function(e,n,t){"use strict";var a=t("ecae"),r=t.n(a);r.a},2777:function(e,n,t){"use strict";var a=t("bc3a"),r=t.n(a),o=t("f121"),c=t.n(o),u=t("a78e"),s=t.n(u);r.a.interceptors.request.use(function(e){var n=c.a.loginOpts.cookieKey;return e.headers=Object.assign(e.headers,{hualvmall_authorization:s.a.get(n)||""}),e},function(e){return console.log(e),Promise.resolve(e)}),r.a.interceptors.response.use(function(e){return 0==e.data.errorCode||"0"==e.data.errorCode?(e.data.ok=!0,e.data):"401"==e.data.errorCode||401==e.data.errorCode?{errorCode:401,errorMsg:"您无权限操作",ok:!1,data:{}}:"400"==e.data.errorCode||400==e.data.errorCode?{errorCode:400,errorMsg:e.data.errorMsg,info:e.data.info,ok:!1,data:{}}:{errorCode:500,errorMsg:"服务端故障",ok:!1,data:{}}},function(e){return{errorCode:e.response.status,errorMsg:e.response.data&&e.response.data.info||"您访问的接口不存在",ok:!1,data:{}}}),n["a"]=r.a},"3d01":function(e,n,t){"use strict";var a=t("9a5a"),r=t.n(a);r.a},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("f751"),t("097d");var a=t("2b0e"),r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],c={name:"App"},u=c,s=(t("034f"),t("2877")),i=Object(s["a"])(u,r,o,!1,null,null,null),d=i.exports,f=(t("7f7f"),t("96cf"),t("3b8d")),h=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("div",{staticClass:"mg-home-header"},[t("Menu",{attrs:{mode:"horizontal",theme:e.theme1,"active-name":"1"},on:{"on-select":e.jump}},["1"==e.userType?t("MenuItem",{attrs:{name:"account_list"}},[t("Icon",{attrs:{type:"ios-people"}}),t("span",[e._v("账户管理")])],1):e._e(),"1"==e.userType||"4"==e.userType?t("MenuItem",{attrs:{name:"product_list"}},[t("Icon",{attrs:{type:"ios-construct"}}),t("span",[e._v("商品管理")])],1):e._e(),"1"==e.userType||"2"==e.userType?t("MenuItem",{attrs:{name:"association_list"}},[t("Icon",{attrs:{type:"ios-construct"}}),t("span",[e._v("合作机构管理")])],1):e._e(),"1"==e.userType?t("MenuItem",{attrs:{name:"service_list"}},[t("Icon",{attrs:{type:"ios-construct"}}),t("span",[e._v("客服账号管理")])],1):e._e(),"4"==e.userType||"2"==e.userType||"1"==e.userType?t("MenuItem",{attrs:{name:"order_list"}},[t("Icon",{attrs:{type:"ios-construct"}}),t("span",[e._v("订单列表")])],1):e._e()],1),t("Dropdown",{staticClass:"mg-home-drop",attrs:{trigger:"click"},on:{"on-click":e.accountOperate}},[t("a",{staticStyle:{"padding-top":"20px",display:"inline-block"},attrs:{href:"javascript:void(0)"}},[e.userName?t("span",{staticStyle:{color:"#fff"}},[e._v(e._s(e.userName)+"("+e._s(e.useTypeDesc)+")")]):t("span",{staticStyle:{color:"#fff"}},[e._v("未登录")]),t("Icon",{staticStyle:{color:"#fff"},attrs:{type:"ios-arrow-down"}})],1),t("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e.userName?t("DropdownItem",{attrs:{name:"logout"}},[e._v("注销")]):t("DropdownItem",{attrs:{name:"login"}},[e._v("登录")])],1)],1)],1),t("router-view",{ref:"child"})],1)},l=[],p=t("cebc"),m=t("2f62"),b={name:"Home",mounted:function(){console.log("This is Home")},data:function(){return{theme1:"primary"}},computed:{userName:function(){return this.$store.state.user.userName},userType:function(){return this.$store.state.user.userType},useTypeDesc:function(){var e;switch(this.$store.state.user.userType){case"1":e="超级管理员";break;case"2":e="商户管理员";break}return e}},methods:Object(p["a"])({},Object(m["b"])(["handleLogOut"]),{jump:function(e){console.log("跳转: "+e),this.$router.push({name:e})},accountOperate:function(e){var n=this,t=this;"login"==e?t.$router.push({name:"login"}):"logout"==e&&t.handleLogOut().then(function(){n.$router.push({name:"login"})})}})},k=b,v=(t("3d01"),Object(s["a"])(k,h,l,!1,null,"6621dec9",null)),g=v.exports,_=[{path:"/",redirect:"login",component:function(){return t.e("chunk-39814a86").then(t.bind(null,"c6f7"))}},{path:"/login",name:"login",component:function(){return t.e("chunk-39814a86").then(t.bind(null,"c6f7"))}},{path:"/home",name:"home",component:g,children:[{path:"welcome",name:"welcome",component:function(){return t.e("chunk-3d59c99e").then(t.bind(null,"0462"))}},{path:"account_list",name:"account_list",component:function(){return t.e("chunk-5dbc0548").then(t.bind(null,"2c9f"))}},{path:"account_detail/:id",name:"account_detail",component:function(){return t.e("chunk-bd0ca646").then(t.bind(null,"518f"))}},{path:"account_import",name:"account_import",component:function(){return t.e("chunk-5d563a72").then(t.bind(null,"4f79"))}},{path:"product_import",name:"product_import",component:function(){return t.e("chunk-0ee8132b").then(t.bind(null,"a195"))}},{path:"product_list",name:"product_list",component:function(){return t.e("chunk-b4c2f3ca").then(t.bind(null,"9ae3"))}}]},{path:"/home",name:"home",component:g,children:[{path:"association_list",name:"association_list",component:function(){return t.e("chunk-1fd222e1").then(t.bind(null,"a87b"))}},{path:"service_list",name:"service_list",component:function(){return t.e("chunk-39d157b5").then(t.bind(null,"8e36"))}},{path:"order_list",name:"order_list",component:function(){return t.e("chunk-e3f8ef50").then(t.bind(null,"a7c0"))}},{path:"order_detail",name:"order_detail",component:function(){return t.e("chunk-656eef42").then(t.bind(null,"467e"))}},{path:"service_detail",name:"service_detail",component:function(){return t.e("chunk-d344db00").then(t.bind(null,"aa2a"))}},{path:"association_detail/",name:"association_detail",component:function(){return t.e("chunk-5044dfd9").then(t.bind(null,"7d00"))}},{path:"association_account/",name:"association_account",component:function(){return t.e("chunk-05f4860d").then(t.bind(null,"c1db3"))}},{path:"association_business/",name:"association_business",component:function(){return t.e("chunk-34d1bae6").then(t.bind(null,"67f8"))}},{path:"association_business_detail/",name:"association_business_detail",component:function(){return t.e("chunk-fbc79b0e").then(t.bind(null,"9512"))}},{path:"association_order/",name:"association_order",component:function(){return t.e("chunk-6e632633").then(t.bind(null,"51eb"))}},{path:"association_staff/",name:"association_staff",component:function(){return t.e("chunk-544f9055").then(t.bind(null,"1c09"))}}]},{path:"/401",name:"error_401",component:function(){return t.e("chunk-4c1ecf57").then(t.bind(null,"71ee"))}},{path:"*",name:"error_404",component:function(){return t.e("chunk-627fda63").then(t.bind(null,"f96a"))}},{path:"/500",name:"error_500",component:function(){return t.e("chunk-9ef0c602").then(t.bind(null,"8396"))}}],y=_,w=t("8c4f"),O=t("f121"),T=t.n(O),j=(t("28a5"),t("2777")),I=function(){var e=O["apiHost"]+"/manage/admin/auth";return j["a"].request({url:e,method:"get"})},C=function(){var e=O["apiHost"]+"/manage/user/userinfo";return j["a"].request({url:e,method:"get"})},N=(t("ac6a"),t("456d"),t("c5f6"),t("a78e")),A=t.n(N),M=T.a.loginOpts.cookieKey,S=function(e){var n=window.location.host.split(":")[0],t=n.split(".");n=t[t.length-2]+"."+t[t.length-1],A.a.set(M,e,{domain:"."+n})},x=function(){var e;window.location.host;return e=A.a.get(M),e},P=function(e,n){return e.some(function(e){return n.indexOf(e)>-1})};var E={state:{userName:"",userId:"",userType:"",token:x(),hasGetInfo:!1,auth1:[],auth2:[],auth3:[]},mutations:{setAuth1:function(e,n){e.auth1=n},setAuth2:function(e,n){e.auth2=n},setAuth3:function(e,n){e.auth3=n},setUserId:function(e,n){e.userId=n},setUserName:function(e,n){e.userName=n},setUseType:function(e,n){e.userType=n},setToken:function(e,n){e.token=n,S(n)}},actions:{handleLogin:function(e){e.commit;return new Promise(function(e,n){x();e&&e()})},handleLogOut:function(e){e.state;var n=e.commit;return new Promise(function(e,t){n("setToken",""),e("")})},getUserInfo:function(e,n){var t=e.state,a=e.commit;e.rootState,n.force;return new Promise(function(e,n){C().then(function(n){if(n&&0==n.errorCode){a("setUserName",n.data.uname),a("setUserId",n.data.uid),a("setUseType",n.data.utype);var r=n.data.auth1.split(","),o=n.data.auth2.split(","),c=n.data.auth3.split(",");a("setAuth1",r),a("setAuth2",o),a("setAuth3",c)}e&&e({name:t.userName,access:t.right1})})})}}};a["default"].use(m["a"]);var U=new m["a"].Store({state:Object.assign({}),mutations:Object.assign({}),actions:Object.assign({}),modules:Object.assign({user:E})});a["default"].use(w["a"]);var $=new w["a"]({routes:y,base:O["appName"],mode:"history"});$.beforeEach(function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(n,t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("error_401"!=n.name&&"login"!=n.name){e.next=3;break}return a(),e.abrupt("return");case 3:U.dispatch("getUserInfo",{force:!1}).then(function(e){I({}).then(function(e){e&&e.ok?a():a({replace:!0,name:"error_401"})})});case 4:case"end":return e.stop()}},e)}));return function(n,t,a){return e.apply(this,arguments)}}());var D=$,L=t("e069"),H=t.n(L),q=t("619d"),K=function(e){e.directive("access",{bind:function(e,n,t){console.log(n.value);var a=n.value.access,r=n.value.subAccess;a||(Object(q["a"])("toAccess"),a=[]),r||(Object(q["a"])("toSubAccess"),r=[]);var o=U.state.app.access,c=U.state.app.subAccess;P(a,o)&&P(r,c)||(e.style.display="none")}})},z=K,B=t("31bd");t("dcad");Object(B["sync"])(U,D,{moduleName:"router"}),z(a["default"]),a["default"].config.productionTip=!1,a["default"].use(H.a,{}),new a["default"]({router:D,store:U,render:function(e){return e(d)}}).$mount("#app")},"9a5a":function(e,n,t){},ecae:function(e,n,t){},f121:function(e,n){e.exports={apiHost:"",appName:"web",loginOpts:{cookieKey:"hualvmall_authorization"}}}});