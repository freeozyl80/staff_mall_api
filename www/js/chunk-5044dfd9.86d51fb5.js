(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5044dfd9"],{"0abf":function(e,a,t){"use strict";t.d(a,"i",function(){return o}),t.d(a,"j",function(){return u}),t.d(a,"h",function(){return d}),t.d(a,"p",function(){return m}),t.d(a,"a",function(){return s}),t.d(a,"s",function(){return f}),t.d(a,"d",function(){return c}),t.d(a,"o",function(){return p}),t.d(a,"m",function(){return l}),t.d(a,"l",function(){return g}),t.d(a,"n",function(){return _}),t.d(a,"k",function(){return h}),t.d(a,"t",function(){return b}),t.d(a,"q",function(){return v}),t.d(a,"b",function(){return D}),t.d(a,"f",function(){return y}),t.d(a,"g",function(){return N}),t.d(a,"r",function(){return q}),t.d(a,"c",function(){return I}),t.d(a,"e",function(){return w});var r=t("2777"),n=t("f121"),i=n["apiHost"],o=function(e){var a=e.fid,t=i+"/manage/firm/detail";return r["a"].request({url:t,method:"get",params:{fid:a}})},u=function(e){var a=e.pageIndex,t=e.pageSize,n=i+"/manage/firm/list";return r["a"].request({url:n,method:"get",params:{page_index:a,page_size:t}})},d=function(e){var a=i+"/manage/firm/add",t=new FormData;return t.set("firmname",e.firmName),t.set("firm_realname",e.firmRealName),t.set("balance",e.balance),r["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:t})},m=function(e){var a=i+"/manage/firm/update",t=new FormData;return t.set("firmname",e.firmName),t.set("firm_realname",e.firmRealName),t.set("balance",e.balance),e.productGroup&&t.set("product_group",e.productGroup),e.categoryGroup&&t.set("category_group",e.categoryGroup),r["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:t,params:{fid:e.fid}})},s=function(e){var a=e.pageIndex,t=e.pageSize,n=e.auth1,o=i+"/manage/firm/account";return r["a"].request({url:o,method:"get",params:{fid:n,page_index:a,page_size:t}})},f=function(e){var a=e.pageIndex,t=e.pageSize,n=e.auth1,o=i+"/manage/firm/staff/list";return r["a"].request({url:o,method:"get",params:{fid:n,page_index:a,page_size:t}})},c=function(e){var a=e.auth1,t=e.uid,n=e.uname,o=e.type,u=i+"/manage/firm/delegate";return r["a"].request({url:u,method:"get",params:{type:o,fid:a,uname:n,uid:t}})},p=function(e){var a=e.pageIndex,t=e.pageSize,n=e.fid,o=i+"/manage/product/firm/list";return r["a"].request({url:o,method:"get",params:{fid:n,product_status:1,page_index:a,page_size:t}})},l=function(e){var a=e.fid,t=e.pid,n=i+"/manage/product/firm/detail";return r["a"].request({url:n,method:"get",params:{fid:a,pid:t}})},g=function(e){var a=i+"/manage/product/firm/new",t=new FormData;return t.set("fid",e.fid),t.set("product_name",e.productName),t.set("product_realname",e.productRealname),t.set("category_id",e.categoryId),t.set("category_name",e.categoryName),t.set("category_realname",e.categoryRealname),t.set("supplier_id",e.supplierId),t.set("supplier_name",e.supplierName),t.set("supplier_realname",e.supplierRealname),t.set("product_price",e.productPrice),t.set("product_count",e.productCount),t.set("product_img",e.productImg),t.set("product_status",e.productStatus),t.set("product_desc",e.productDesc),t.set("product_banner_list",e.productBannerList.join(",")),t.set("product_detail_list",e.productDetailList.join(",")),r["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:t})},_=function(e){var a=i+"/manage/product/firm/update",t=new FormData;return t.set("fid",e.fid),t.set("pid",e.pid),t.set("product_name",e.productName),t.set("product_realname",e.productRealname),t.set("category_id",e.categoryId),t.set("category_name",e.categoryName),t.set("category_realname",e.categoryRealname),t.set("supplier_id",e.supplierId),t.set("supplier_name",e.supplierName),t.set("supplier_realname",e.supplierRealname),t.set("product_price",e.productPrice),t.set("product_count",e.productCount),t.set("product_img",e.productImg),t.set("product_status",e.productStatus),t.set("product_desc",e.productDesc),t.set("product_banner_list",e.productBannerList.join(",")),t.set("product_detail_list",e.productDetailList.join(",")),r["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:t})},h=function(e){var a=e.fid,t=i+"/manage/product/firm/categroy/list";return r["a"].request({url:t,method:"get",params:{fid:a,page_index:1,page_size:100}})},b=function(){var e=i+"/manage/supplier/list";return r["a"].request({url:e,method:"get",params:{page_index:1,page_size:100}})},v=function(e){var a=e.uid,t=e.fid,n=i+"/manage/firm/staff";return r["a"].request({url:n,method:"get",params:{fid:t,uid:a}})},D=function(e){var a=i+"/manage/firm/staff/add",t=new FormData;return t.set("name",e.username),t.set("realname",e.userRealname),t.set("pwd",e.password),r["a"].request({url:a,method:"post",headers:{"Content-Type":"application/form-data"},data:t,params:{fid:e.fid}})},y=function(e){var a=e.uid,t=e.fid,n=e.coin,o=i+"/manage/firm/staff/coin",u=new FormData;return u.set("data",n),r["a"].request({url:o,method:"post",headers:{"Content-Type":"application/form-data"},data:u,params:{fid:t,uid:a}})},N=function(e){var a=e.uids,t=e.fid,n=e.coin,o=i+"/manage/firm/staff/list/coin",u=new FormData;return u.set("data",n),r["a"].request({url:o,method:"post",headers:{"Content-Type":"application/form-data"},data:u,params:{fid:t,uids:a.join(",")}})},q=function(e){var a=e.fid,t=e.pageIndex,n=e.pageSize,o=i+"/manage/order/list";return r["a"].request({url:o,method:"get",params:{fid:a,page_index:t,page_size:n}})},I=function(e){var a=e.fid,t=e.orderId,n=i+"/manage/order/cancel",o=new FormData;return o.set("orderId",t),r["a"].request({url:n,method:"post",data:o,params:{fid:a}})},w=function(e){var a=e.fid,t=e.orderId,n=i+"/manage/order/deliver",o=new FormData;return o.set("orderId",t),r["a"].request({url:n,method:"post",data:o,params:{fid:a}})}},"5d3a":function(e,a,t){},"7d00":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"mg-detail"},[t("Breadcrumb",[t("BreadcrumbItem",{attrs:{to:"/home"}},[e._v("首页")]),t("BreadcrumbItem",{attrs:{to:"/home/association_list"}},[e._v("合作机构列表")]),e.isEdit?e._e():t("BreadcrumbItem",[e._v("新建 合作机构")]),e.isEdit?t("BreadcrumbItem",[e._v("编辑 合作机构")]):e._e()],1),t("br"),t("div",{staticStyle:{"max-width":"500px","text-align":"left"}},[t("Form",{ref:"formData",attrs:{model:e.formData,rules:e.rules,"label-width":80}},[t("FormItem",{attrs:{label:"机构简称（英文）",prop:"firmName"}},[t("Input",{attrs:{placeholder:"输入firmName",disabled:e.isEdit},model:{value:e.formData.firmName,callback:function(a){e.$set(e.formData,"firmName",a)},expression:"formData.firmName"}})],1),t("FormItem",{attrs:{label:"机构全称",prop:"firmRealName"}},[t("Input",{attrs:{placeholder:"输入机构全称",disabled:e.isEdit},model:{value:e.formData.firmRealName,callback:function(a){e.$set(e.formData,"firmRealName",a)},expression:"formData.firmRealName"}})],1),t("FormItem",{attrs:{label:"机构金额",prop:"balance"}},[t("Input",{attrs:{placeholder:"输入机构初始金额",type:"number"},model:{value:e.formData.balance,callback:function(a){e.$set(e.formData,"balance",a)},expression:"formData.balance"}})],1),t("FormItem",[e.isEdit?e._e():t("Button",{attrs:{type:"primary"},on:{click:function(a){return e.handleSubmit("formData",1)}}},[e._v("新建合作机构")]),e.isEdit?t("Button",{attrs:{type:"primary"},on:{click:function(a){return e.handleSubmit("formData",2)}}},[e._v("更新合作机构")]):e._e()],1)],1)],1)],1)},n=[],i=(t("7f7f"),t("0abf")),o={name:"AssociationDetail",data:function(){var e=Boolean("new"!=this.$route.query.mode);return{isEdit:e,formData:{firmName:"",firmRealName:"",balance:0},rules:{firmName:[{required:!0,message:"机构名称不能为空",trigger:"blur"}],firmRealName:[{required:!0,message:"机构全称不能为空",trigger:"blur"}],balance:[{required:!0,message:"机构初始金额不能为空",trigger:"blur"}]}}},mounted:function(){var e=this;e.fetchData()},methods:{fetchData:function(){var e=this;e.isEdit&&Object(i["i"])({fid:e.$route.query.fid}).then(function(a){0==a.errorCode?(e.formData["firmName"]=a.data.info.firm_name,e.formData["firmRealName"]=a.data.info.firm_realname,e.formData["balance"]=a.data.info.balance):e.$Message.error("机构查询失败")},function(){e.$Message.error("机构查询失败")})},handleSubmit:function(e,a){var t=this;this.$refs[e].validate(function(e){if(e){var r=1==a?i["h"]:i["p"];r({fid:t.$route.query.fid,firmName:t.formData.firmName,firmRealName:t.formData.firmRealName,balance:t.formData.balance}).then(function(e){0==e.errorCode&&(t.$Message.success("机构更新成功:"+e.data.firmname+"("+e.data.firm_realname+")"),setTimeout(function(){t.$router.push({name:"association_list"})},2e3))},function(){t.$Message.error("机构更新失败")})}else t.$Message.error("请检查填写")})}}},u=o,d=(t("c5ff"),t("2877")),m=Object(d["a"])(u,r,n,!1,null,"e5d4bda6",null);a["default"]=m.exports},c5ff:function(e,a,t){"use strict";var r=t("5d3a"),n=t.n(r);n.a}}]);