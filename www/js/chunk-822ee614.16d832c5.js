(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-822ee614"],{"0abf":function(t,e,a){"use strict";a.d(e,"i",function(){return u}),a.d(e,"j",function(){return o}),a.d(e,"h",function(){return s}),a.d(e,"p",function(){return d}),a.d(e,"a",function(){return c}),a.d(e,"s",function(){return m}),a.d(e,"d",function(){return p}),a.d(e,"o",function(){return f}),a.d(e,"m",function(){return l}),a.d(e,"l",function(){return g}),a.d(e,"n",function(){return _}),a.d(e,"k",function(){return h}),a.d(e,"t",function(){return y}),a.d(e,"q",function(){return v}),a.d(e,"b",function(){return b}),a.d(e,"f",function(){return q}),a.d(e,"g",function(){return w}),a.d(e,"r",function(){return x}),a.d(e,"c",function(){return z}),a.d(e,"e",function(){return I});var r=a("2777"),n=a("f121"),i=n["apiHost"],u=function(t){var e=t.fid,a=i+"/manage/firm/detail";return r["a"].request({url:a,method:"get",params:{fid:e}})},o=function(t){var e=t.pageIndex,a=t.pageSize,n=i+"/manage/firm/list";return r["a"].request({url:n,method:"get",params:{page_index:e,page_size:a}})},s=function(t){var e=i+"/manage/firm/add",a=new FormData;return a.set("firmname",t.firmName),a.set("firm_realname",t.firmRealName),a.set("balance",t.balance),r["a"].request({url:e,method:"post",headers:{"Content-Type":"application/form-data"},data:a})},d=function(t){var e=i+"/manage/firm/update",a=new FormData;return a.set("firmname",t.firmName),a.set("firm_realname",t.firmRealName),a.set("balance",t.balance),t.productGroup&&a.set("product_group",t.productGroup),t.categoryGroup&&a.set("category_group",t.categoryGroup),r["a"].request({url:e,method:"post",headers:{"Content-Type":"application/form-data"},data:a,params:{fid:t.fid}})},c=function(t){var e=t.pageIndex,a=t.pageSize,n=t.auth1,u=i+"/manage/firm/account";return r["a"].request({url:u,method:"get",params:{fid:n,page_index:e,page_size:a}})},m=function(t){var e=t.pageIndex,a=t.pageSize,n=t.auth1,u=i+"/manage/firm/staff/list";return r["a"].request({url:u,method:"get",params:{fid:n,page_index:e,page_size:a}})},p=function(t){var e=t.auth1,a=t.uid,n=t.uname,u=t.type,o=i+"/manage/firm/delegate";return r["a"].request({url:o,method:"get",params:{type:u,fid:e,uname:n,uid:a}})},f=function(t){var e=t.pageIndex,a=t.pageSize,n=t.fid,u=i+"/manage/product/firm/list";return r["a"].request({url:u,method:"get",params:{fid:n,product_status:1,page_index:e,page_size:a}})},l=function(t){var e=t.fid,a=t.pid,n=i+"/manage/product/firm/detail";return r["a"].request({url:n,method:"get",params:{fid:e,pid:a}})},g=function(t){var e=i+"/manage/product/firm/new",a=new FormData;return a.set("fid",t.fid),a.set("product_name",t.productName),a.set("product_realname",t.productRealname),a.set("category_id",t.categoryId),a.set("category_name",t.categoryName),a.set("category_realname",t.categoryRealname),a.set("supplier_id",t.supplierId),a.set("supplier_name",t.supplierName),a.set("supplier_realname",t.supplierRealname),a.set("product_price",t.productPrice),a.set("product_count",t.productCount),a.set("product_img",t.productImg),a.set("product_status",t.productStatus),a.set("product_desc",t.productDesc),a.set("product_banner_list",t.productBannerList.join(",")),a.set("product_detail_list",t.productDetailList.join(",")),r["a"].request({url:e,method:"post",headers:{"Content-Type":"application/form-data"},data:a})},_=function(t){var e=i+"/manage/product/firm/update",a=new FormData;return a.set("fid",t.fid),a.set("pid",t.pid),a.set("product_name",t.productName),a.set("product_realname",t.productRealname),a.set("category_id",t.categoryId),a.set("category_name",t.categoryName),a.set("category_realname",t.categoryRealname),a.set("supplier_id",t.supplierId),a.set("supplier_name",t.supplierName),a.set("supplier_realname",t.supplierRealname),a.set("product_price",t.productPrice),a.set("product_count",t.productCount),a.set("product_img",t.productImg),a.set("product_status",t.productStatus),a.set("product_desc",t.productDesc),a.set("product_banner_list",t.productBannerList.join(",")),a.set("product_detail_list",t.productDetailList.join(",")),r["a"].request({url:e,method:"post",headers:{"Content-Type":"application/form-data"},data:a})},h=function(t){var e=t.fid,a=i+"/manage/product/firm/categroy/list";return r["a"].request({url:a,method:"get",params:{fid:e,page_index:1,page_size:100}})},y=function(){var t=i+"/manage/supplier/list";return r["a"].request({url:t,method:"get",params:{page_index:1,page_size:100}})},v=function(t){var e=t.uid,a=t.fid,n=i+"/manage/firm/staff";return r["a"].request({url:n,method:"get",params:{fid:a,uid:e}})},b=function(t){var e=i+"/manage/firm/staff/add",a=new FormData;return a.set("name",t.username),a.set("realname",t.userRealname),a.set("pwd",t.password),r["a"].request({url:e,method:"post",headers:{"Content-Type":"application/form-data"},data:a,params:{fid:t.fid}})},q=function(t){var e=t.uid,a=t.fid,n=t.coin,u=i+"/manage/firm/staff/coin",o=new FormData;return o.set("data",n),r["a"].request({url:u,method:"post",headers:{"Content-Type":"application/form-data"},data:o,params:{fid:a,uid:e}})},w=function(t){var e=t.uids,a=t.fid,n=t.coin,u=i+"/manage/firm/staff/list/coin",o=new FormData;return o.set("data",n),r["a"].request({url:u,method:"post",headers:{"Content-Type":"application/form-data"},data:o,params:{fid:a,uids:e.join(",")}})},x=function(t){var e=t.fid,a=t.pageIndex,n=t.pageSize,u=i+"/manage/order/list";return r["a"].request({url:u,method:"get",params:{fid:e,page_index:a,page_size:n}})},z=function(t){var e=t.fid,a=t.orderId,n=i+"/manage/order/cancel",u=new FormData;return u.set("orderId",a),r["a"].request({url:n,method:"post",data:u,params:{fid:e}})},I=function(t){var e=t.fid,a=t.orderId,n=i+"/manage/order/deliver",u=new FormData;return u.set("orderId",a),r["a"].request({url:n,method:"post",data:u,params:{fid:e}})}},4280:function(t,e,a){"use strict";var r=a("922b"),n=a.n(r);n.a},"922b":function(t,e,a){},a87b:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mg-list"},[a("Breadcrumb",[a("BreadcrumbItem",{attrs:{to:"/home"}},[t._v("首页")]),a("BreadcrumbItem",[t._v("所有机构列表")])],1),a("div",{staticStyle:{"text-align":"left"}},[t.isSuperManager?a("Button",{staticStyle:{margin:"30px 0 30px"},attrs:{type:"primary"},on:{click:function(e){return t.importAssociation()}}},[t._v("+ 新建合作机构")]):t._e()],1),a("Table",{attrs:{columns:t.columns1,data:t.listData},scopedSlots:t._u([{key:"action",fn:function(e){var r=e.row;return[a("Button",{staticClass:"mg-button",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.busin(r)}}},[t._v("商品管理")]),a("Button",{staticClass:"mg-button",attrs:{type:"info",size:"small"},on:{click:function(e){return t.order(r)}}},[t._v("订单管理")]),a("Button",{staticClass:"mg-button",staticStyle:{"margin-right":"5px"},attrs:{type:"default",size:"small"},on:{click:function(e){return t.account(r)}}},[t._v("账号福利币管理")]),t.isSuperManager?a("Button",{staticClass:"mg-button",attrs:{type:"success",size:"small",ghost:""},on:{click:function(e){return t.association(r)}}},[t._v("公司管理")]):t._e(),a("Button",{staticClass:"mg-button",staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small",ghost:""},on:{click:function(e){return t.accountPermission(r)}}},[t._v("账户权限管理")])]}}])})],1)},n=[],i=a("0abf"),u={name:"FirmList",mounted:function(){var t=this;t.fetch()},data:function(){return{columns1:[{title:"机构id",key:"fid",width:100},{title:"机构name",key:"firmname",width:200},{title:"机构全称",key:"firm_realname",width:200},{title:"机构剩余金额",key:"balance",width:200},{title:"操作",key:"action",slot:"action"}],listData:[]}},watch:{$route:function(t){var e=this;"association_detail"==t&&e.fetch()}},computed:{isSuperManager:function(){return"1"===this.$store.state.user.userType}},methods:{detail:function(t){this.$router.push({name:"account_detail",params:{id:t}})},fetch:function(){var t=this;Object(i["j"])({pageIndex:1,pageSize:10}).then(function(e){0==e.errorCode?t.listData=e.data.list||[]:t.$Message.error(e.errorMsg+":"+e.info)},function(e){t.$Message.error(e+":"+res.info)})},importAssociation:function(){var t=this;t.$router.push({name:"association_detail",query:{mode:"new"}})},account:function(t){var e=this;e.$router.push({name:"association_account",query:{fid:t.fid,firmname:t.firmname}})},accountPermission:function(t){var e=this;e.$router.push({name:"association_account_permission",query:{fid:t.fid,firmname:t.firmname}})},busin:function(t){var e=this;e.$router.push({name:"association_business",query:{fid:t.fid,firmname:t.firmname}})},association:function(t){var e=this;e.$router.push({name:"association_detail",query:{fid:t.fid,firmname:t.firmname}})},order:function(t){var e=this;e.$router.push({name:"association_order",query:{fid:t.fid,firmname:t.firmname}})}}},o=u,s=(a("4280"),a("2877")),d=Object(s["a"])(o,r,n,!1,null,"07333235",null);e["default"]=d.exports}}]);