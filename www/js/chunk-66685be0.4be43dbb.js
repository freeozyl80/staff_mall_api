(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66685be0"],{"0abf":function(e,t,r){"use strict";r.d(t,"h",function(){return i}),r.d(t,"i",function(){return o}),r.d(t,"g",function(){return u}),r.d(t,"o",function(){return d}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return c}),r.d(t,"n",function(){return p}),r.d(t,"l",function(){return m}),r.d(t,"k",function(){return f}),r.d(t,"m",function(){return l}),r.d(t,"j",function(){return _}),r.d(t,"r",function(){return g}),r.d(t,"p",function(){return v}),r.d(t,"e",function(){return h}),r.d(t,"f",function(){return y}),r.d(t,"q",function(){return b}),r.d(t,"b",function(){return q});var a=r("2777"),n=r("f121"),i=function(e){var t=e.fid,r=n["apiHost"]+"/manage/firm/detail";return a["a"].request({url:r,method:"get",params:{fid:t}})},o=function(e){var t=e.pageIndex,r=e.pageSize,i=n["apiHost"]+"/manage/firm/list";return a["a"].request({url:i,method:"get",params:{page_index:t,page_size:r}})},u=function(e){var t=n["apiHost"]+"/manage/firm/add",r=new FormData;return r.set("firmname",e.firmName),r.set("firm_realname",e.firmRealName),r.set("balance",e.balance),a["a"].request({url:t,method:"post",headers:{"Content-Type":"application/form-data"},data:r})},d=function(e){var t=n["apiHost"]+"/manage/firm/update",r=new FormData;return r.set("firmname",e.firmName),r.set("firm_realname",e.firmRealName),r.set("balance",e.balance),a["a"].request({url:t,method:"post",headers:{"Content-Type":"application/form-data"},data:r,params:{fid:e.fid}})},s=function(e){var t=e.pageIndex,r=e.pageSize,i=e.auth1,o=n["apiHost"]+"/manage/firm/account";return a["a"].request({url:o,method:"get",params:{fid:i,page_index:t,page_size:r}})},c=function(e){var t=e.auth1,r=e.uid,i=e.uname,o=e.type,u=n["apiHost"]+"/manage/firm/delegate";return a["a"].request({url:u,method:"get",params:{type:o,fid:t,uname:i,uid:r}})},p=function(e){var t=e.pageIndex,r=e.pageSize,i=e.fid,o=n["apiHost"]+"/manage/product/firm/list";return a["a"].request({url:o,method:"get",params:{fid:i,page_index:t,page_size:r}})},m=function(e){var t=e.fid,r=e.pid,i=n["apiHost"]+"/manage/product/firm/detail";return a["a"].request({url:i,method:"get",params:{fid:t,pid:r}})},f=function(e){var t=n["apiHost"]+"/manage/product/firm/new",r=new FormData;return r.set("fid",e.fid),r.set("product_name",e.productName),r.set("product_realname",e.productRealname),r.set("category_id",e.categoryId),r.set("category_name",e.categoryName),r.set("category_realname",e.categoryRealname),r.set("supplier_id",e.supplierId),r.set("supplier_name",e.supplierName),r.set("supplier_realname",e.supplierRealname),r.set("product_price",e.productPrice),r.set("product_count",e.productCount),r.set("product_img",e.productImg),r.set("product_status",e.productStatus),r.set("product_desc",e.productDesc),a["a"].request({url:t,method:"post",headers:{"Content-Type":"application/form-data"},data:r})},l=function(e){var t=n["apiHost"]+"/manage/product/firm/update",r=new FormData;return r.set("fid",e.fid),r.set("pid",e.pid),r.set("product_name",e.productName),r.set("product_realname",e.productRealname),r.set("category_id",e.categoryId),r.set("category_name",e.categoryName),r.set("category_realname",e.categoryRealname),r.set("supplier_id",e.supplierId),r.set("supplier_name",e.supplierName),r.set("supplier_realname",e.supplierRealname),r.set("product_price",e.productPrice),r.set("product_count",e.productCount),r.set("product_img",e.productImg),r.set("product_status",e.productStatus),r.set("product_desc",e.productDesc),a["a"].request({url:t,method:"post",headers:{"Content-Type":"application/form-data"},data:r})},_=function(e){var t=e.fid,r=n["apiHost"]+"/manage/product/firm/categroy/list";return a["a"].request({url:r,method:"get",params:{fid:t,page_index:1,page_size:100}})},g=function(){var e=n["apiHost"]+"/manage/supplier/list";return a["a"].request({url:e,method:"get",params:{page_index:1,page_size:100}})},v=function(e){var t=e.uid,r=e.fid,i=n["apiHost"]+"/manage/firm/staff";return a["a"].request({url:i,method:"get",params:{fid:r,uid:t}})},h=function(e){var t=e.uid,r=e.fid,i=e.coin,o=n["apiHost"]+"/manage/firm/staff/coin",u=new FormData;return u.set("data",i),a["a"].request({url:o,method:"post",headers:{"Content-Type":"application/form-data"},data:u,params:{fid:r,uid:t}})},y=function(e){var t=e.uids,r=e.fid,i=e.coin,o=n["apiHost"]+"/manage/firm/staff/list/coin",u=new FormData;return u.set("data",i),a["a"].request({url:o,method:"post",headers:{"Content-Type":"application/form-data"},data:u,params:{fid:r,uids:t.join(",")}})},b=function(e){var t=e.fid,r=e.pageIndex,i=e.pageSize,o=n["apiHost"]+"/manage/order/list";return a["a"].request({url:o,method:"get",params:{fid:t,page_index:r,page_size:i}})},q=function(e){var t=e.fid,r=e.orderId,i=n["apiHost"]+"/manage/order/cancel",o=new FormData;return o.set("orderId",r),a["a"].request({url:i,method:"get",data:o,params:{fid:t}})}},"1bb7":function(e,t,r){},"51eb":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mg-detail"},[r("Divider",{attrs:{orientation:"left"}},[e._v(e._s(e.$route.query.firmname)+": 订单列表")]),r("Table",{attrs:{columns:e.columns,data:e.listData},scopedSlots:e._u([{key:"status",fn:function(t){var a=t.row;t.index;return[1==a.order_status?r("div",[e._v("下定")]):e._e(),2==a.order_status?r("div",[e._v("支付完成")]):e._e(),3==a.order_status?r("div",[e._v("发货完成")]):e._e(),4==a.order_status?r("div",[e._v("收货完成")]):e._e(),5==a.order_status?r("div",[e._v("取消")]):e._e(),6==a.order_status?r("div",[e._v("退换中")]):e._e(),7==a.order_status?r("div",[e._v("7异常")]):e._e()]}},{key:"action",fn:function(t){var a=t.row;t.index;return[5!=a.order_status?r("Button",{staticClass:"mg-button",attrs:{type:"error",size:"small"},on:{click:function(t){return e.cancelOrder(a)}}},[e._v("立即退款")]):e._e(),2==a.order_status?r("Button",{staticClass:"mg-button",attrs:{type:"error",size:"small"},on:{click:function(t){return e.deliver(a)}}},[e._v("发货完成")]):e._e()]}}])})],1)},n=[],i=r("0abf"),o={name:"AssociationAccount",data:function(){return{columns:[{title:"订单id",key:"order_id"},{title:"收货地址",key:"order_receiving_address"},{title:"收货城市",key:"order_receiving_city"},{title:"收货电话",key:"order_receiving_tel"},{title:"收货人",key:"order_receiving_username"},{title:"订单价格",key:"order_total_price"},{title:"订单状态",key:"oder_status",slot:"status"},{title:"操作",key:"action",slot:"action"}],listData:[]}},watch:{$route:"fetch"},mounted:function(){var e=this;e.fetch()},methods:{fetch:function(){var e=this;Object(i["q"])({fid:e.$route.query.fid,pageIndex:1,pageSize:10}).then(function(t){t.ok?e.listData=t.data.list||[]:e.$Message.error(t.errorMsg+":"+t.info)})},cancelOrder:function(e){var t=this;Object(i["b"])({fid:t.$route.query.fid,orderId:e.order_id}).then(function(e){e.ok?(t.listData=e.data.list||[],t.fetch()):t.$Message.error(e.errorMsg+":"+e.info)})},deliver:function(e){var t=this;Object(i["deliverOrder"])({fid:t.$route.query.fid,orderId:e.order_id}).then(function(e){e.ok?(t.listData=e.data.list||[],t.fetch()):t.$Message.error(e.errorMsg+":"+e.info)})}}},u=o,d=(r("cd21"),r("2877")),s=Object(d["a"])(u,a,n,!1,null,"a71c4d88",null);t["default"]=s.exports},cd21:function(e,t,r){"use strict";var a=r("1bb7"),n=r.n(a);n.a}}]);