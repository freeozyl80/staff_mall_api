(function(e){function n(n){for(var a,o,u=n[0],s=n[1],i=n[2],f=0,d=[];f<u.length;f++)o=u[f],r[o]&&d.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);h&&h(n);while(d.length)d.shift()();return c.push.apply(c,i||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],a=!0,o=1;o<t.length;o++){var u=t[o];0!==r[u]&&(a=!1)}a&&(c.splice(n--,1),e=s(s.s=t[0]))}return e}var a={},o={main:0},r={main:0},c=[];function u(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-05565558":"46bd6427","chunk-0ee8132b":"77b21eec","chunk-17f45b3a":"d7ecc172","chunk-1fd222e1":"947c7b06","chunk-20c3a3ee":"c5f85913","chunk-34a00be2":"47da29a3","chunk-3d59c99e":"f3671ca5","chunk-3f7dd0f5":"704b2bbf","chunk-4c1ecf57":"c1132771","chunk-5044dfd9":"56c2b542","chunk-5cfaa48f":"238d7051","chunk-627fda63":"f899ffc6","chunk-6e632633":"9ecee2b2","chunk-9ef0c602":"8fdf5cfd","chunk-bd0ca646":"b1c4cb8f","chunk-cde94d18":"43051b00","chunk-fbc79b0e":"68717520"}[e]+".js"}function s(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t={"chunk-05565558":1,"chunk-0ee8132b":1,"chunk-17f45b3a":1,"chunk-1fd222e1":1,"chunk-20c3a3ee":1,"chunk-34a00be2":1,"chunk-3d59c99e":1,"chunk-3f7dd0f5":1,"chunk-4c1ecf57":1,"chunk-5044dfd9":1,"chunk-5cfaa48f":1,"chunk-627fda63":1,"chunk-6e632633":1,"chunk-9ef0c602":1,"chunk-bd0ca646":1,"chunk-cde94d18":1,"chunk-fbc79b0e":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise(function(n,t){for(var a="css/"+({}[e]||e)+"."+{"chunk-05565558":"f8c3c2e3","chunk-0ee8132b":"afe59d7a","chunk-17f45b3a":"68ebe037","chunk-1fd222e1":"91ff723d","chunk-20c3a3ee":"a83c99e2","chunk-34a00be2":"c3840a23","chunk-3d59c99e":"acbaf5a9","chunk-3f7dd0f5":"657e2bfe","chunk-4c1ecf57":"c5c6df8d","chunk-5044dfd9":"79e2658f","chunk-5cfaa48f":"4cbf4aa5","chunk-627fda63":"bedffebc","chunk-6e632633":"1eb81a75","chunk-9ef0c602":"bedffebc","chunk-bd0ca646":"a3e99da4","chunk-cde94d18":"204fd664","chunk-fbc79b0e":"16d4dceb"}[e]+".css",r=s.p+a,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var i=c[u],f=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(f===a||f===r))return n()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){i=d[u],f=i.getAttribute("data-href");if(f===a||f===r)return n()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=n,h.onerror=function(n){var a=n&&n.target&&n.target.src||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete o[e],h.parentNode.removeChild(h),t(c)},h.href=r;var l=document.getElementsByTagName("head")[0];l.appendChild(h)}).then(function(){o[e]=0}));var a=r[e];if(0!==a)if(a)n.push(a[2]);else{var c=new Promise(function(n,t){a=r[e]=[n,t]});n.push(a[2]=c);var i,f=document.createElement("script");f.charset="utf-8",f.timeout=120,s.nc&&f.setAttribute("nonce",s.nc),f.src=u(e),i=function(n){f.onerror=f.onload=null,clearTimeout(d);var t=r[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src,c=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");c.type=a,c.request=o,t[1](c)}r[e]=void 0}};var d=setTimeout(function(){i({type:"timeout",target:f})},12e4);f.onerror=f.onload=i,document.head.appendChild(f)}return Promise.all(n)},s.m=e,s.c=a,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)s.d(t,a,function(n){return e[n]}.bind(null,a));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/web/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],f=i.push.bind(i);i.push=n,i=i.slice();for(var d=0;d<i.length;d++)n(i[d]);var h=f;c.push(["56d7","chunk-vendors"]),t()})({"034f":function(e,n,t){"use strict";var a=t("ecae"),o=t.n(a);o.a},2777:function(e,n,t){"use strict";var a=t("bc3a"),o=t.n(a),r=t("f121"),c=t.n(r),u=t("a78e"),s=t.n(u);o.a.interceptors.request.use(function(e){var n=c.a.loginOpts.cookieKey;return e.headers=Object.assign(e.headers,{hualvmall_authorization:s.a.get(n)||""}),e},function(e){return console.log(e),Promise.resolve(e)}),o.a.interceptors.response.use(function(e){return 0==e.data.errorCode||"0"==e.data.errorCode?(e.data.ok=!0,e.data):"401"==e.data.errorCode||401==e.data.errorCode?{errorCode:401,errorMsg:"您无权限操作",ok:!1,data:{}}:"400"==e.data.errorCode||400==e.data.errorCode?{errorCode:400,errorMsg:e.data.errorMsg,info:e.data.info,ok:!1,data:{}}:{errorCode:500,errorMsg:"服务端故障",ok:!1,data:{}}},function(){return{errorCode:404,errorMsg:"您访问的接口不存在",ok:!1,data:{}}}),n["a"]=o.a},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("f751"),t("097d");var a=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],c={name:"App"},u=c,s=(t("034f"),t("2877")),i=Object(s["a"])(u,o,r,!1,null,null,null),f=i.exports,d=(t("7f7f"),t("96cf"),t("3b8d")),h=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"container"},[t("div",{staticClass:"mg-home-header"},[t("Menu",{attrs:{mode:"horizontal",theme:e.theme1,"active-name":"1"},on:{"on-select":e.jump}},["1"==e.userType?t("MenuItem",{attrs:{name:"account_list"}},[t("Icon",{attrs:{type:"ios-people"}}),t("span",[e._v("账户管理")])],1):e._e(),"1"==e.userType?t("MenuItem",{attrs:{name:"product_list"}},[t("Icon",{attrs:{type:"ios-construct"}}),t("span",[e._v("商品管理")])],1):e._e(),t("MenuItem",{attrs:{name:"association_list"}},[t("Icon",{attrs:{type:"ios-construct"}}),t("span",[e._v("合作机构管理")])],1)],1),t("Dropdown",{staticClass:"mg-home-drop",attrs:{trigger:"click"},on:{"on-click":e.accountOperate}},[t("a",{staticStyle:{"padding-top":"20px",display:"inline-block"},attrs:{href:"javascript:void(0)"}},[e.userName?t("span",{staticStyle:{color:"#fff"}},[e._v(e._s(e.userName)+"("+e._s(e.useTypeDesc)+")")]):t("span",{staticStyle:{color:"#fff"}},[e._v("未登录")]),t("Icon",{staticStyle:{color:"#fff"},attrs:{type:"ios-arrow-down"}})],1),t("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[e.userName?t("DropdownItem",{attrs:{name:"logout"}},[e._v("注销")]):t("DropdownItem",{attrs:{name:"login"}},[e._v("登录")])],1)],1)],1),t("router-view",{ref:"child"})],1)},l=[],p=t("cebc"),m=t("2f62"),b={name:"Home",mounted:function(){console.log("This is Home")},data:function(){return{theme1:"primary"}},computed:{userName:function(){return this.$store.state.user.userName},userType:function(){return this.$store.state.user.userType},useTypeDesc:function(){var e;switch(this.$store.state.user.userType){case"1":e="超级管理员";break;case"2":e="商户管理员";break}return e}},methods:Object(p["a"])({},Object(m["b"])(["handleLogOut"]),{jump:function(e){console.log("跳转: "+e),this.$router.push({name:e})},accountOperate:function(e){var n=this,t=this;"login"==e?t.$router.push({name:"login"}):"logout"==e&&t.handleLogOut().then(function(){n.$router.push({name:"login"})})}})},k=b,g=(t("d976"),Object(s["a"])(k,h,l,!1,null,"6e434b42",null)),v=g.exports,_=[{path:"/",redirect:"login",component:function(){return t.e("chunk-cde94d18").then(t.bind(null,"c6f7"))}},{path:"/login",name:"login",component:function(){return t.e("chunk-cde94d18").then(t.bind(null,"c6f7"))}},{path:"/home",name:"home",component:v,children:[{path:"welcome",name:"welcome",component:function(){return t.e("chunk-3d59c99e").then(t.bind(null,"0462"))}},{path:"account_list",name:"account_list",component:function(){return t.e("chunk-17f45b3a").then(t.bind(null,"2c9f"))}},{path:"account_detail/:id",name:"account_detail",component:function(){return t.e("chunk-bd0ca646").then(t.bind(null,"518f"))}},{path:"account_import",name:"account_import",component:function(){return t.e("chunk-5cfaa48f").then(t.bind(null,"4f79"))}},{path:"product_import",name:"product_import",component:function(){return t.e("chunk-0ee8132b").then(t.bind(null,"a195"))}},{path:"product_list",name:"product_list",component:function(){return t.e("chunk-34a00be2").then(t.bind(null,"9ae3"))}}]},{path:"/home",name:"home",component:v,children:[{path:"association_list",name:"association_list",component:function(){return t.e("chunk-1fd222e1").then(t.bind(null,"a87b"))}},{path:"association_detail/",name:"association_detail",component:function(){return t.e("chunk-5044dfd9").then(t.bind(null,"7d00"))}},{path:"association_account/",name:"association_account",component:function(){return t.e("chunk-05565558").then(t.bind(null,"c1db3"))}},{path:"association_business/",name:"association_business",component:function(){return t.e("chunk-3f7dd0f5").then(t.bind(null,"67f8"))}},{path:"association_business_detail/",name:"association_business_detail",component:function(){return t.e("chunk-fbc79b0e").then(t.bind(null,"9512"))}},{path:"association_order/",name:"association_order",component:function(){return t.e("chunk-6e632633").then(t.bind(null,"51eb"))}},{path:"association_staff/",name:"association_staff",component:function(){return t.e("chunk-20c3a3ee").then(t.bind(null,"1c09"))}}]},{path:"/401",name:"error_401",component:function(){return t.e("chunk-4c1ecf57").then(t.bind(null,"71ee"))}},{path:"*",name:"error_404",component:function(){return t.e("chunk-627fda63").then(t.bind(null,"f96a"))}},{path:"/500",name:"error_500",component:function(){return t.e("chunk-9ef0c602").then(t.bind(null,"8396"))}}],y=_,w=t("8c4f"),O=t("f121"),j=t.n(O),T=(t("28a5"),t("2777")),C=function(){var e=O["apiHost"]+"/manage/admin/auth";return T["a"].request({url:e,method:"get"})},N=function(){var e=O["apiHost"]+"/manage/user/userinfo";return T["a"].request({url:e,method:"get"})},A=(t("ac6a"),t("456d"),t("c5f6"),t("a78e")),I=t.n(A),S=j.a.loginOpts.cookieKey,M=function(e){var n=window.location.host.split(":")[0],t=n.split(".");n=t[t.length-2]+"."+t[t.length-1],I.a.set(S,e,{domain:"."+n})},x=function(){var e;window.location.host;return e=I.a.get(S),e},P=function(e,n){return e.some(function(e){return n.indexOf(e)>-1})};var E={state:{userName:"",userId:"",userType:"",token:x(),hasGetInfo:!1,auth1:[],auth2:[],auth3:[]},mutations:{setAuth1:function(e,n){e.auth1=n},setAuth2:function(e,n){e.auth2=n},setAuth3:function(e,n){e.auth3=n},setUserId:function(e,n){e.userId=n},setUserName:function(e,n){e.userName=n},setUseType:function(e,n){e.userType=n},setToken:function(e,n){e.token=n,M(n)}},actions:{handleLogin:function(e){e.commit;return new Promise(function(e,n){x();e&&e()})},handleLogOut:function(e){e.state;var n=e.commit;return new Promise(function(e,t){n("setToken",""),e("")})},getUserInfo:function(e,n){var t=e.state,a=e.commit;e.rootState,n.force;return new Promise(function(e,n){N().then(function(n){if(n&&0==n.errorCode){a("setUserName",n.data.uname),a("setUserId",n.data.uid),a("setUseType",n.data.utype);var o=n.data.auth1.split(","),r=n.data.auth2.split(","),c=n.data.auth3.split(",");a("setAuth1",o),a("setAuth2",r),a("setAuth3",c)}e&&e({name:t.userName,access:t.right1})})})}}};a["default"].use(m["a"]);var U=new m["a"].Store({state:Object.assign({}),mutations:Object.assign({}),actions:Object.assign({}),modules:Object.assign({user:E})});a["default"].use(w["a"]);var $=new w["a"]({routes:y,base:O["appName"],mode:"history"});$.beforeEach(function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(n,t,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("error_401"!=n.name&&"login"!=n.name){e.next=3;break}return a(),e.abrupt("return");case 3:U.dispatch("getUserInfo",{force:!1}).then(function(e){C({}).then(function(e){e&&e.ok?a():a({replace:!0,name:"error_401"})})});case 4:case"end":return e.stop()}},e)}));return function(n,t,a){return e.apply(this,arguments)}}());var D=$,L=t("e069"),H=t.n(L),q=t("619d"),K=function(e){e.directive("access",{bind:function(e,n,t){console.log(n.value);var a=n.value.access,o=n.value.subAccess;a||(Object(q["a"])("toAccess"),a=[]),o||(Object(q["a"])("toSubAccess"),o=[]);var r=U.state.app.access,c=U.state.app.subAccess;P(a,r)&&P(o,c)||(e.style.display="none")}})},z=K,B=t("31bd");t("dcad");Object(B["sync"])(U,D,{moduleName:"router"}),z(a["default"]),a["default"].config.productionTip=!1,a["default"].use(H.a,{}),new a["default"]({router:D,store:U,render:function(e){return e(f)}}).$mount("#app")},cc8d:function(e,n,t){},d976:function(e,n,t){"use strict";var a=t("cc8d"),o=t.n(a);o.a},ecae:function(e,n,t){},f121:function(e,n){e.exports={apiHost:"",appName:"web",loginOpts:{cookieKey:"hualvmall_authorization"}}}});